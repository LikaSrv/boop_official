<%# back %>
<div>
  <%= link_to root_path, class:"text-decoration-none text-primary", style:"font-size: 16px" do%>
  <i class="fa-solid fa-chevron-left text-primary ms-4 me-3 mt-3"></i>Retour
  <% end %>
</div>
<%# title %>
<div class=" text-center mb-4 d-flex flex-row justify-content-center">
  <h1>Toutes les annonces</h1>
  <i class="fa-solid fa-paw float-end text-primary"></i>
</div>
<%# body  %>
<div class="d-flex flex-wrap justify-content-center" data-controller="animal-index">
    <% @pet_alerts.each do |animal| %>
      <a  href="<%=pet_alert_path(animal)%>"
          style="text-decoration: none; color: black; margin: 20px">
        <div class="col">
          <div  class="m-2 card_pro p-0 d-flex flex-column"
                style="width: 300px; aspect-ratio: 1/1; overflow: hidden;"
                data-animal-index-target="animal"
                data-action="mouseover->animal-index#hover mouseout->animal-index#unhover">
            <!-- En-tÃªte -->
            <div class="p-3 text-center d-flex flex-row justify-content-center align-items-center" style="border-radius: 8px 8px 0 0; background-color: #f7e6d4;">
              <%=animal.title %>
              <% if animal.status == false %>
                        <i class="fa-solid fa-circle-exclamation ms-1" style="font-size: 32px; color: #FF0035;"></i>
                      <% else %>
                        <i class="fa-solid fa-circle-check text-success ms-1" style="font-size: 32px"></i>
                      <% end %>
            </div>
            <!-- Image qui prend le reste de la place -->
            <div class="flex-grow-1" style="overflow: hidden;">
              <% if animal.photo.present?%>
                <%= image_tag(animal.photo_url, style: "width: 100%; height: 100%; object-fit: cover;") %>
              <% else %>
                <%= image_tag("#{ENV['SUPABASE_URL']}/storage/v1/object/public/general_images/question.png",alt:"alert photo default", style: "width: 100%; height: 100%; object-fit: cover;" )%>
              <% end %>
            </div>
          </div>
        </div>
      </a>
    <% end %>
  </div>
